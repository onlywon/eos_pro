<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>EOS PRO - Dashboard</title>
    <style>
        body { background-color: #1e1e1e; color: #e0e0e0; font-family: 'Suit', sans-serif; padding: 30px; margin: 0; }
        .container { max-width: 1000px; margin: 0 auto; }
        
        /* í—¤ë” */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid #444; padding-bottom: 20px; }
        h1 { color: #00ff00; margin: 0; font-size: 28px; }
        .user-info { font-size: 14px; color: #aaa; }
        .btn-logout { color: #aaa; text-decoration: none; margin-left: 10px; border: 1px solid #444; padding: 5px 10px; border-radius: 4px; background: transparent; cursor: pointer; }
        .btn-logout:hover { background: #333; color: white; }

        /* í”„ë¡œì íŠ¸ ì¹´ë“œ ê·¸ë¦¬ë“œ */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        
        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card { background-color: #252526; border-radius: 12px; padding: 25px; transition: 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.3); position: relative; border: 1px solid #333; }
        .card:hover { transform: translateY(-5px); border-color: #00ff00; }
        
        .badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; background: #333; color: #888; margin-bottom: 10px; }
        .badge.active { background: #007acc; color: white; }

        .card-title { font-size: 22px; font-weight: bold; color: white; text-decoration: none; display: block; margin-bottom: 8px; }
        .card-meta { color: #aaa; font-size: 14px; margin-bottom: 5px; display: flex; align-items: center; gap: 5px; }
        
        /* ë²„íŠ¼ ê·¸ë£¹ */
        .action-area { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; border-top: 1px solid #333; padding-top: 15px; }
        .btn-go { background: #007acc; color: white; text-decoration: none; padding: 8px 20px; border-radius: 6px; font-size: 14px; font-weight: bold; transition: 0.3s; }
        .btn-go:hover { background: #005a9e; }
        
        /* ì‚­ì œ ë²„íŠ¼ */
        .btn-del { background: transparent; color: #ff4b4b; border: 1px solid #ff4b4b; padding: 7px 12px; border-radius: 6px; cursor: pointer; font-size: 13px; transition: 0.3s; }
        .btn-del:hover { background: #ff4b4b; color: white; }

        /* ìƒˆ í”„ë¡œì íŠ¸ ë²„íŠ¼ */
        .btn-new { display: flex; justify-content: center; align-items: center; width: 100%; height: 80px; background: #252526; border: 2px dashed #444; color: #888; border-radius: 12px; text-decoration: none; font-size: 18px; margin-bottom: 30px; transition: 0.3s; font-weight: bold; }
        .btn-new:hover { border-color: #00ff00; color: #00ff00; background: #1e1e1e; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>EOS PRO <span style="font-size:14px; color:#888;">Manager</span></h1>
            <div class="user-info">
                {% if user.is_authenticated %}
                    ğŸ‘¤ {{ user.username }}ë‹˜
                    <form action="{% url 'logout' %}" method="post" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn-logout">ë¡œê·¸ì•„ì›ƒ</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}" style="color:#00ff00;">ë¡œê·¸ì¸ í•„ìš”</a>
                {% endif %}
            </div>
        </div>

        <a href="{% url 'event_create' %}" class="btn-new">+ ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°</a>

        <div class="grid">
            {% for event in events %}
            <div class="card">
                <span class="badge {% if event.status == 'onsite' or event.status == 'confirmed' %}active{% endif %}">
                    {{ event.get_status_display }}
                </span>
                
                <a href="{% url 'detail' event.id %}" class="card-title">{{ event.title }}</a>
                
                <div class="card-meta">ğŸ¢ {{ event.client_name|default:"í´ë¼ì´ì–¸íŠ¸ ë¯¸ì •" }}</div>
                <div class="card-meta">ğŸ“… {{ event.date|date:"Y.m.d" }}</div>
                <div class="card-meta">ğŸ’° â‚© {{ event.budget }}</div>
                
                <div class="action-area">
                    <a href="{% url 'detail' event.id %}" class="btn-go">ì…ì¥í•˜ê¸°</a>
                    
                    <form action="{% url 'event_delete' event.id %}" method="post" onsubmit="return confirm('â— ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? \në³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');">
                        {% csrf_token %}
                        <button type="submit" class="btn-del">ì‚­ì œ</button>
                    </form>
                </div>
            </div>
            {% empty %}
            <p style="color:#666; text-align:center; grid-column:span 3; padding: 50px;">
                ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”!
            </p>
            {% endfor %}
        </div>
    </div>
</body>
</html>